generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider  = "postgresql"
    url       = env("POSTGRES_URL")
    directUrl = env("MIGRATE_DATABASE_URL")
}

model Member {
    id          String          @id @default(uuid())
    name        String
    about       String?
    photoUrl    String?
    type        String?
    isActive    Boolean         @default(true)
    contactInfo MemberContact[]
    createdAt   DateTime        @default(now())
    // Só tem default pq eu esqueci de botar quando criei a tabela
    updatedAt   DateTime        @updatedAt @default(now())
}

model MemberContact {
    id        String   @id @default(uuid())
    name      String
    snsId     String
    memberId  String
    member    Member   @relation(fields: [memberId], references: [id])
    createdAt DateTime @default(now())
    // Só tem default pq eu esqueci de botar quando criei a tabela
    updatedAt DateTime @updatedAt @default(now())
}

model Project {
    id        String           @id @default(uuid())
    title     String
    about     String?
    logoUrl   String?
    editions  ProjectEdition[]
    createdAt DateTime         @default(now())
    updatedAt DateTime         @updatedAt
}

model ProjectEdition {
    id        String @id @default(uuid())
    name      String?
    number    Float
    projectId String
    project   Project  @relation(fields: [projectId], references: [id])
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
}
